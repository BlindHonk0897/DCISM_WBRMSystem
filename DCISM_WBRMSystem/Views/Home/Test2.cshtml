
@{
    ViewBag.Title = "Test2";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="row">
    <div class="col-xl-2 col-lg-12 task-detail-right">
        <div class="card">
            <div class="card-header">
                <h5>Actions</h5>
            </div>
            <div class="card-block task-details">
                <table class="table">
                    <tbody>
                        <tr>
                            <td>
                                <a><i class="fas fa-adjust m-r-5"></i>All:</a>
                            </td>

                        </tr>
                        <tr>
                            <td><i class="far fa-calendar-alt m-r-5"></i> Updated:</td>

                        </tr>
                        <tr>
                            <td><i class="far fa-credit-card m-r-5"></i> Created:</td>

                        </tr>
                        <tr>
                            <td><i class="fas fa-chart-line m-r-5"></i> Priority:</td>

                        </tr>
                        <tr>
                            <td><i class="fas fa-sync-alt m-r-5"></i> Revisions:</td>

                        </tr>
                        <tr>
                            <td><i class="fas fa-user-plus m-r-5"></i> Added by:</td>

                        </tr>
                        <tr>
                            <td><i class="fas fa-thermometer-half m-r-5"></i> Status:</td>

                        </tr>
                    </tbody>
                </table>

            </div>
        </div>

    </div>
    <div class="col-xl-10 col-lg-12">
        <div class="col-sm-12">
            <div class="card" style="height: auto;">
                <div class="card-header">
                    <h5>Equipments</h5>
                    <div class="card-header-right">
                        <div class="btn-group card-option">
                            <button type="button" class="btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <i class="feather icon-more-horizontal"></i>
                            </button>
                            <ul class="list-unstyled card-option dropdown-menu dropdown-menu-right" x-placement="bottom-end" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(54px, 41px, 0px);">
                                <li class="dropdown-item full-card"><a href="#!"><span style=""><i class="feather icon-maximize"></i> maximize</span><span style="display: none;"><i class="feather icon-minimize"></i> Restore</span></a></li>
                                <li class="dropdown-item minimize-card"><a href="#!"><span style=""><i class="feather icon-minus"></i> collapse</span><span style="display: none;"><i class="feather icon-plus"></i> expand</span></a></li>
                                <li class="dropdown-item reload-card"><a href="#!"><i class="feather icon-refresh-cw"></i> reload</a></li>
                                @*<li class="dropdown-item close-card"><a href="#!"><i class="feather icon-trash"></i> remove</a></li>*@
                            </ul>
                        </div>
                    </div>
                </div>
                <div class="card-block" style="">
                    <table id="showcase-example-1" class="table" data-paging="true" data-filtering="true" data-sorting="true" data-editing="true" data-state="true"></table>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Editing Modal Markup -->
<div class="modal fade" id="editor-modal" tabindex="-1" role="dialog" aria-labelledby="editor-title">
    <style scoped>
        /* provides a red astrix to denote required fields - this should be included in common stylesheet */
        .form-group.required .control-label:after {
            content: "*";
            color: red;
            margin-left: 4px;
        }
    </style>
    <div class="modal-dialog" role="document">
        <form class="modal-content form-horizontal" id="editor">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="editor-title">Add Row</h4>
            </div>
            <div class="modal-body">
                <input type="number" id="id" name="id" class="hidden" />
                <div class="form-group required">
                    <label for="firstName" class="col-sm-3 control-label">First Name</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="firstName" name="firstName" placeholder="First Name" required>
                    </div>
                </div>
                <div class="form-group required">
                    <label for="lastName" class="col-sm-3 control-label">Last Name</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="lastName" name="lastName" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="jobTitle" class="col-sm-3 control-label">Job Title</label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" id="jobTitle" name="jobTitle" placeholder="Job Title">
                    </div>
                </div>
                <div class="form-group required">
                    <label for="startedOn" class="col-sm-3 control-label">Started On</label>
                    <div class="col-sm-9">
                        <input type="date" class="form-control" id="startedOn" name="startedOn" placeholder="Started On" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="dob" class="col-sm-3 control-label">Date of Birth</label>
                    <div class="col-sm-9">
                        <input type="date" class="form-control" id="dob" name="dob" placeholder="Date of Birth">
                    </div>
                </div>
                <div class="form-group">
                    <label for="status" class="col-sm-3 control-label">Status</label>
                    <div class="col-sm-9">
                        <select class="form-control" id="status" name="status">
                            <option value="Active">Active</option>
                            <option value="Disabled">Disabled</option>
                            <option value="Suspended">Suspended</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="submit" class="btn btn-primary">Save changes</button>
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
            </div>
        </form>
    </div>
</div>

<div class="row">
    <div class="col-sm-12 table-responsive p-0" style="border:1px dotted gainsboro !important;height: 275px;">
        <table class="table table-head-fixed table-striped">
            <thead>
                <tr>
                    <th>No</th>
                    <th>Badge No</th>
                    <th>Employee</th>
                    <th></th>
                </tr>
            </thead>
            <tbody id="tblItems">
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>
                <tr>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                    <td>ieriu</td>
                </tr>


                </tr>
            </tbody>
        </table>
    </div>
</div>

@section scripts{

    <script src="~/Content/footable/footable.min.js"></script>

    <script>
        jQuery(function ($) {
            var $modal = $('#editor-modal'),
                $editor = $('#editor'),
                $editorTitle = $('#editor-title'),
                ft = FooTable.init('#showcase-example-1', {
                    columns: $.get("https://fooplugins.github.io/FooTable/docs/content/columns.json"),
                    rows: $.get("https://fooplugins.github.io/FooTable/docs/content/rows.json"),
                    editing: {
                        addRow: function () {
                            $modal.removeData('row');
                            $editor[0].reset();
                            $editorTitle.text('Add a new row');
                            $modal.modal('show');
                        },
                        editRow: function (row) {
                            var values = row.val();
                            $editor.find('#id').val(values.id);
                            $editor.find('#firstName').val(values.firstName);
                            $editor.find('#lastName').val(values.lastName);
                            $editor.find('#jobTitle').val(values.jobTitle);
                            $editor.find('#status').val(values.status);
                            $editor.find('#startedOn').val(values.started.format('YYYY-MM-DD'));
                            $editor.find('#dob').val(values.dob.format('YYYY-MM-DD'));
                            $modal.data('row', row);
                            $editorTitle.text('Edit row #' + values.id);
                            $modal.modal('show');
                        },
                        deleteRow: function (row) {
                            if (confirm('Are you sure you want to delete the row?')) {
                                row.delete();
                            }
                        }
                    }
                }),
                uid = 10001;

            $editor.on('submit', function (e) {
                if (this.checkValidity && !this.checkValidity()) return;
                e.preventDefault();
                var row = $modal.data('row'),
                    values = {
                        id: $editor.find('#id').val(),
                        firstName: $editor.find('#firstName').val(),
                        lastName: $editor.find('#lastName').val(),
                        jobTitle: $editor.find('#jobTitle').val(),
                        started: moment($editor.find('#startedOn').val(), 'YYYY-MM-DD'),
                        dob: moment($editor.find('#dob').val(), 'YYYY-MM-DD'),
                        status: $editor.find('#status option:selected').val()
                    };

                if (row instanceof FooTable.Row) {
                    row.val(values);
                } else {
                    values.id = uid++;
                    ft.rows.add(values);
                }
                $modal.modal('hide');
            });
        });
    </script>
}
